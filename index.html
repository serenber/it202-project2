<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>3 screen app</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	 crossorigin="anonymous">


	<style>
		.content {
			display: none;
			margin: 1em;
		}
	</style>

</head>

<body>
	<!-- navigation bar -->
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
		<a class="navbar-brand" href="#">Navbar</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="#home">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#searchScreen">Search Screen</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#searchScreenResults">Search Results</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#about">About</a>
      </li>
    </ul>
  </div>
  </nav>

  <!-- the content divs -->
  <div class="content" id="home">
    Home page<br>
      On the search screen please type in a park name, movie title, or day of the week.<br>
      Then select the corresponding category before clicking search.<br>
  </div>
  <div class="content" id="searchScreen">
    This is the search screen
      
      <form>
        <input type="text" placeholder="Find a movie" id="txtSearch">
        <button id="btnSearch">Search</button><br>
          
        Categories: 
        <label for="park"><input id="park" type="radio" name="category" value="park"> Park Name</label>
        <label for="movie"><input id="movie" type="radio" name="category" value="movie"> Movie Title</label>
        <label for="day"><input id="day" type="radio" name="category" value="day"> Day of Week</label>
          
      </form>
      
  </div>
  <div class="content" id="searchScreenResults">
    This is search results screen
  </div>
  <div class="content" id="about">
    About 
  </div>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
      

  
  <script>
    $(document).ready(function() {

      function hideScreens() {
        $(".content").hide();
      }

      $(".nav-link").on("click", function(){
        hideScreens();
        var target = $(this).attr("href");
        $(target).show();
      });

    });
  </script>

    <script type="text/javascript">
        var endpoint = "https://data.cityofchicago.org/resource/7piw-z6r6.json";
        var categorySearch = $("input[name='category']:checked"). val();
//this categorySearch piece isn't working...
        $("#searchScreen").append(categorySearch);
        $(document).ready(function(){
            $("#btnSearch").on("click", function(){
               $.get(endpoint + "?" + categorySearch + "=" + $("#txtSearch").val(), 
                  function(response){
                    $.each(response, function(i, v){
                        var p = $("<p>");
                        p.addClass("parkName");
                        p.text(v.park + v.date + v.title);
                        $("#searchScreenResults").append(p);
                    });
                }); 
            });
        });
    </script>
  </body>
</html>